

<fieldset class="layui-elem-field layui-field-title" style="margin-top: 20px;">
    <legend>添加用户</legend>
</fieldset>
<form method="post" action="/Home/Adds" id="myform" class="layui-form">
    <div class="layui-form-item">
        <label class="layui-form-label">头像</label>
        <button type="button" class="layui-btn" id="photo" name="photo">上传图片</button>
        <img width="8%" class="layui-upload-img" id="page_photo" src="">
        <input name="Touxiang" id="Touxiang" type="hidden" value="" />
    </div>

    <div class="layui-form-item">
        <div class="layui-inline">
            <label class="layui-form-label">手机号</label>
            <div class="layui-input-inline">
                <input type="text" name="Tel" lay-verify="required|number" class="layui-input" autocomplete="off" placeholder="请输入手机号" />
            </div>
        </div>
    </div>
    <div class="layui-form-item">
        <label class="layui-form-label">密码</label>
        <div class="layui-input-inline">
            <input type="password" name="password" lay-verify="pass" placeholder="请输入密码" autocomplete="off" class="layui-input">
        </div>
        <div class="layui-form-mid layui-word-aux">请填写6到12位密码</div>
    </div>
    <div class="layui-form-item">
        <div class="layui-inline">
            <label class="layui-form-label">姓名</label>
            <div class="layui-input-inline">
                <input type="text" name="username" class="layui-input" placeholder="请输入姓名">
            </div>
        </div>
    </div>
    <div class="layui-form-item">
        <div class="layui-inline">
            <label class="layui-form-label">年龄</label>
            <div class="layui-input-inline">
                <input type="text" name="Age" class="layui-input" value="0" placeholder="请输入年龄">
            </div>
        </div>
    </div>
    <div class="layui-form-item">
        <div class="layui-inline">
            <label class="layui-form-label">邮箱</label>
            <div class="layui-input-inline">
                <input type="text" name="Email" class="layui-input" placeholder="请输入邮箱">
            </div>
        </div>
    </div>
    <div class="layui-form-item">
        <label class="layui-form-label">身份证</label>
        <div class="layui-input-inline">
            <input type="text" name="Idcard" placeholder="" autocomplete="off" class="layui-input">
        </div>
    </div>
    <div class="layui-form-item">
        <div class="layui-inline">
            <label class="layui-form-label">销售员ID</label>
            <div class="layui-input-inline">
                <input type="text" name="SellerId" class="layui-input" value="0" placeholder="请输入销售员ID">
            </div>
        </div>
    </div>
    <div class="layui-form-item">
        <label class="layui-form-label">爱好</label>
        <div class="layui-input-block">
            <input type="checkbox" name="Likes" title="运动" value="运动">
            <input type="checkbox" name="Likes" title="玩游戏" value="玩游戏" checked="">
            <input type="checkbox" name="Likes" title="睡觉" value="睡觉">
        </div>
    </div>

    <div class="layui-form-item">
        <div class="layui-inline">
            <label class="layui-form-label">意向度</label>
            <div class="layui-input-inline">
                <div id="test1"></div>
                <input name="Intentionality" type="hidden" value="" />
            </div>
        </div>
    </div>
    <div class="layui-form-item">
        <div class="layui-inline">
            <label class="layui-form-label">昵称</label>
            <div class="layui-input-inline">
                <input type="text" name="Nickname" class="layui-input" placeholder="请输入昵称">
            </div>
        </div>
    </div>
    <div class="layui-form-item">
        <div class="layui-inline">
            <label class="layui-form-label">QQ</label>
            <div class="layui-input-inline">
                <input type="text" name="QQ" class="layui-input" autocomplete="off" placeholder="请输入QQ">
            </div>
        </div>
    </div>
    <div class="layui-form-item">
        <div class="layui-inline">
            <label class="layui-form-label">微信号</label>
            <div class="layui-input-inline">
                <input type="text" name="WeChat" class="layui-input" placeholder="请输入微信号">
            </div>
        </div>
    </div>
    <div class="layui-form-item">
        <div class="layui-inline">
            <label class="layui-form-label">出生日期</label>
            <div class="layui-input-inline">
                <input type="text" name="DateBirth" id="date" placeholder="yyyy-MM-dd" value="" autocomplete="off" class="layui-input">
            </div>
        </div>
    </div>
    <div class="layui-form-item">
        <label class="layui-form-label">省市区</label>
        <div class="layui-input-inline">
            <select name="p" id="p" lay-filter="p">
                <option value="0" selected=selected>请选择省</option>
            </select>
        </div>
        <div class="layui-input-inline">
            <select id="c" name="c" lay-filter="c">
                <option value="0" selected=selected>请选择市</option>
            </select>
        </div>
        <div class="layui-input-inline">
            <select name="a" id="a" lay-filter="a">
                <option value="0" selected=selected>请选择县/区</option>
            </select>
        </div>
    </div>
    @*<select id="p" name="p">
            <option value="-1" selected=selected>--选择省--</option>
        </select>
        <select id="c" name="c">
            <option value="-1" selected=selected>--选择市--</option>
        </select>
        <select id="a">
            <option value="-1" selected=selected>--选择区--</option>
        </select>*@
    <div class="layui-form-item">
        <label class="layui-form-label">详细地址</label>
        <div class="layui-input-block">
            <input type="text" name="Address" lay-verify="title" autocomplete="off" placeholder="详细街道地址，门牌号码" class="layui-input">
        </div>
    </div>
    <div class="layui-form-item">
        <label class="layui-form-label">性别</label>
        <div class="layui-input-block">
            <input type="radio" name="Gender" value="0" title="男" checked="">
            <input type="radio" name="Gender" value="1" title="女">
        </div>
    </div>
    <div class="layui-form-item layui-form-text">
        <label class="layui-form-label">会员简介</label>
        <div class="layui-input-block">
            <textarea placeholder="请输入内容" name="Remark" id="TextArea1" cols="10" rows="2" class="ckeditor"></textarea>

        </div>
    </div>
    <div class="layui-form-item">
        <div class="layui-inline">
            <label class="layui-form-label">关键字</label>
            <div class="layui-input-inline">
                <input type="text" name="Keyword" class="layui-input" autocomplete="off" placeholder="请输入关键字">
            </div>
        </div>
    </div>
    <div class="layui-form-item">
        <div class="layui-inline">
            <label class="layui-form-label">会员级别</label>
            <div class="layui-input-inline">
                <select name="Level" lay-verify="required" lay-search="" id="Level">
                    <option value="-1">请选择</option>
                    <option value="0">普遍</option>
                    <option value="1">VIP1</option>
                    <option value="2">VIP2</option>
                    <option value="3">VIP3</option>
                </select>
            </div>
        </div>
    </div>
    <div class="layui-form-item">
        <div class="layui-inline">
            <label class="layui-form-label">学历</label>
            <div class="layui-input-inline">
                <select name="Education" lay-verify="required" lay-search="" id="Education">
                    <option value="-1">请选择</option>
                    <option value="1">小学</option>
                    <option value="2">初中</option>
                    <option value="3">高中</option>
                    <option value="4">大专</option>
                    <option value="5">本科</option>
                    <option value="6">硕士</option>
                    <option value="7">博士</option>
                </select>
            </div>
        </div>
    </div>
    @*<div class="layui-form-item">
            <div class="layui-inline">
                <label class="layui-form-label">认证资料</label>
                <button type="button" class="layui-btn" id="test3"><i class="layui-icon"></i>身份证正面</button>
                <button type="button" class="layui-btn" id="test4"><i class="layui-icon"></i>身份证反面</button>
                <button type="button" class="layui-btn" id="test5"><i class="layui-icon"></i>手持身份证</button>
                <button type="button" class="layui-btn" id="test6"><i class="layui-icon"></i>证明图</button>
                <input name="file1" type="hidden" value="" />
                <input name="file2" type="hidden" value="" />
                <input name="file3" type="hidden" value="" />
                <input name="file4" type="hidden" value="" />
            </div>
        </div>*@

    <div class="layui-form-item">
        <label class="layui-form-label">认证资料</label>
        <button type="button" class="layui-btn" id="test3"><i class="layui-icon"></i>身份证正面</button>
        <img width="8%" class="layui-upload-img" id="page_photo1" src="">
        <input name="file1" type="hidden" value="" />
    </div>
    <div class="layui-form-item">
        <label class="layui-form-label">身份证反面</label>
        <button type="button" class="layui-btn" id="test4"><i class="layui-icon"></i>身份证反面</button>
        <img width="8%" class="layui-upload-img" id="page_photo2" src="">
        <input name="file2" type="hidden" value="" />
    </div>
    <div class="layui-form-item">
        <label class="layui-form-label">手持身份证</label>
        <button type="button" class="layui-btn" id="test5"><i class="layui-icon"></i>手持身份证</button>
        <img width="8%" class="layui-upload-img" id="page_photo3" src="">
        <input name="file3" type="hidden" value="" />
    </div>
    <div class="layui-form-item">
        <label class="layui-form-label">证明图</label>
        <button type="button" class="layui-btn" id="test6"><i class="layui-icon"></i>证明图</button>
        <img width="8%" class="layui-upload-img" id="page_photo4" src="">
        <input name="file4" type="hidden" value="" />
    </div>
    <div class="layui-form-item">
        <label class="layui-form-label">父亲电话</label>
        <div class="layui-inline">
            <div class="layui-input-inline">
                <input type="text" name="Telba" class="layui-input" placeholder="请输入父亲电话">
            </div>
        </div>
    </div>
    <div class="layui-form-item">
        <label class="layui-form-label">母亲电话</label>
        <div class="layui-inline">
            <div class="layui-input-inline">
                <input type="text" name="Telma" class="layui-input" placeholder="请输入母亲电话">
            </div>
        </div>
    </div>
    <div class="layui-form-item">
        <label class="layui-form-label">是否登录</label>
        <div class="layui-input-block">
            <input type="checkbox" checked="" name="IsLogin" lay-skin="switch" lay-filter="switchTest" lay-text="ON|OFF" value="off">
        </div>
    </div>
    <hr />
    <div class="layui-form-item">
        <div class="layui-input-block">
            @*<button class="layui-btn" lay-submit="" lay-filter="demo1">立即提交</button>*@
            <input class="layui-btn" style="margin-left: 40%;" lay-submit="" lay-filter="demo1" type="submit" value="立即提交" />
        </div>
    </div>


</form>

<script src="~/Content/ckeditor/ckeditor.js"></script>
<script src="~/Content/ckeditor/config.js"></script>


@*@Html.Partial("Top")*@

@*@section scripts
  {*@
    <script type="text/javascript">
        layui.use(['upload', 'form', 'rate', 'laydate'], function () {
            var $ = layui.jquery
                , upload = layui.upload;
            var rate = layui.rate;
            var form = layui.form
                , layer = layui.layer
                , layedit = layui.layedit
                , laydate = layui.laydate;


     //   $(function () {
            getProvince();

            form.on('select(p)', function (data) {
                changeCity(data.value);
                Area(data.value);

            });

            form.on('select(c)', function (data) {
                Area(data.value);


            });
            form.on('select(a)', function (data) {
                GetArea(data.value);


            });

     //  });

 //加载省
        function getProvince() {
$.getJSON('@Url.Action("Provinces", "Home")', function (data) {
    $('#p').empty();
    $.each(data, function (i, item)
    {
        $('#p').append($('<option></option>').val(item.Value).text(item.Text));

    });
    form.render();
            });


        }

 //设置城市清空
        function emptyCity() {
            $('#c').empty();
            $('#c').append($('<option></option>').val('').text('请选择'));
            form.render();
        }

 //根据省加载城市

            function changeCity(selectedProvinceId) {
                alert(selectedProvinceId);

            $.getJSON('@Url.Action("GetCities", "Home")', { id: selectedProvinceId }, function (data) {
                $('#c').empty();
            $.each(data, function (i, item) {
                $('#c').append($('<option></option>').val(item.Value).text(item.Text));
                });
                form.render();
                });


        }

        //设置清空区
        function emptyArea() {
            $('#a').empty();
            $('#a').append($('<option></option>').val('').text('请选择'));
            form.render();
        }
        //根据市加载区
            function Area(selectedCityId) {

 $.getJSON('@Url.Action("Area", "Home")', { id: selectedCityId }, function (data) {

     $('#a').empty();

     //alert(222);
     $('#a').append($(' <option value="-1" selected=selected>--选择区--</option>'));

     $.each(data, function (i, item) {
         //alert(333);

         $('#a').append($('<option></option>').val(item.Value).text(item.Text));
         var selectedAreaId = $.trim($('#a option:selected').val());

     });
     form.render();
                });




        }

            function GetArea(selectedAreaId) {




                $.getJSON('@Url.Action("GetArea", "Home")', { id: selectedAreaId }, function (data) {

                    //alert(selectedAreaId);
              });
              form.render();
        };


            var url = '/upload/Uploads/'
            //普通图片上传
            var uploadInst = upload.render({
                elem: '#photo'
                , url: url
                , before: function (obj) {
                    //预读本地文件示例，不支持ie8
                    obj.preview(function (index, file, result) {
                        $('#page_photo').attr('src', result); //图片链接（base64）
                    });
                }
                , done: function (res) {
                    //如果上传失败
                    if (res.code > 0) {
                        return layer.msg('上传失败');
                    }

                    alert(res.photo)
                    $('#page_photo').attr('src', res.photo);
                    $('input[name=Touxiang]').val(res.photo);
                    return layer.msg('成功');
                    //上传成功

                }
                , error: function () {
                    //演示失败状态，并实现重传
                    alert('上传失败')
                    var demoText = $('#demoText');
                    demoText.html('<span style="color: #FF5722;">上传失败</span> <a class="layui-btn layui-btn-xs demo-reload">重试</a>');
                    demoText.find('.demo-reload').on('click', function () {
                        uploadInst.upload();
                    });
                }
            });
           //星星的js
            var ins1 = rate.render({
                elem: '#test1'  //绑定元素
                , setText: function (value) {
                    var arrs = {
                        '1': '极差'
                        , '2': '差'
                        , '3': '中等'
                        , '4': '好'
                        , '5': '极好'
                    };
                    this.span.text(arrs[value] || (value + "星"));
                }
                , choose: function (value) {
                    if (value > 4) alert('么么哒，意向度极好')
                    $('input[name=Intentionality]').val(value);
                }
            });

            //日期
            laydate.render({
                elem: '#date'
            });
            //指定允许上传的文件类型
            upload.render({
                elem: '#test3'
                , url: url
                , accept: 'file' //普通文件
                , done: function (res) {
                    console.log(res)
                    alert(res.photo)
                    $('#page_photo1').attr('src', res.photo);
                    $('input[name=file1]').val(res.photo);
                    return layer.msg('成功');
                }
            });

            upload.render({
                elem: '#test4'
                , url: url
                , accept: 'file' //普通文件
                , done: function (res) {
                    console.log(res)
                    alert(res.photo)
                    $('#page_photo2').attr('src', res.photo);
                    $('input[name=file2]').val(res.photo);
                    return layer.msg('成功');
                }
            });
            upload.render({
                elem: '#test5'
                , url: url
                , accept: 'file' //普通文件
                , done: function (res) {
                    console.log(res)
                    alert(res.photo)
                    $('#page_photo3').attr('src', res.photo);
                    $('input[name=file3]').val(res.photo);
                    return layer.msg('成功');
                }
            });
            upload.render({
                elem: '#test6'
                , url: url
                , accept: 'file' //普通文件
                , done: function (res) {
                    console.log(res)
                    alert(res.photo)
                    $('#page_photo4').attr('src', res.photo);
                    $('input[name=file4]').val(res.photo);
                    return layer.msg('成功');
                }
            });
            //
            form.render();
        });



        // 示例1：设置工具栏为基本工具栏，高度为70
        CKEDITOR.replace('<%=tbLink.ClientID.Replace("_","$") %>',
            { toolbar: 'Basic', height: 70 });
        //示例2：工具栏为自定义类型
        CKEDITOR.replace('editor1',
            {
                toolbar:
                    [
                        //加粗     斜体，     下划线      穿过线      下标字        上标字
                        ['Bold', 'Italic', 'Underline', 'Strike', 'Subscript', 'Superscript'],
                        // 数字列表          实体列表            减小缩进    增大缩进
                        ['NumberedList', 'BulletedList', '-', 'Outdent', 'Indent'],
                        //左对 齐             居中对齐          右对齐          两端对齐
                        ['JustifyLeft', 'JustifyCenter', 'JustifyRight', 'JustifyBlock'],
                        //超链接  取消超链接 锚点
                        ['Link', 'Unlink', 'Anchor'],
                        //图片    flash    表格       水平线            表情       特殊字符        分页符
                        ['Image', 'Flash', 'Table', 'HorizontalRule', 'Smiley', 'SpecialChar', 'PageBreak'],
                        '/',
                        // 样式       格式      字体    字体大小
                        ['Styles', 'Format', 'Font', 'FontSize'],
                        //文本颜色     背景颜色
                        ['TextColor', 'BGColor'],
                        //全屏           显示区块
                        ['Maximize', 'ShowBlocks', '-']
                    ]
            }
        );

    </script>
@*}*@